{
  "name": "Ferocity",
  "img": "systems/daggerheart/assets/icons/domains/domain-card/bone.png",
  "type": "domainCard",
  "folder": "Q9rmrfeKqcqBNnWc",
  "system": {
    "description": "<p class=\"Body-Foundation\">When you cause an adversary to mark 1 or more Hit Points, you can <strong>spend 2 Hope</strong> to increase your Evasion by the number of Hit Points they marked. This bonus lasts until after the next attack made against you.</p>",
    "domain": "bone",
    "recallCost": 2,
    "level": 2,
    "type": "ability",
    "actions": {
      "2X4CqDTpEQjfSE8r": {
        "type": "effect",
        "_id": "2X4CqDTpEQjfSE8r",
        "systemPath": "actions",
        "description": "<p class=\"Body-Foundation\">When you cause an adversary to mark 1 or more Hit Points, you can <strong>spend 2 Hope</strong> to increase your Evasion by the number of Hit Points they marked. This bonus lasts until after the next attack made against you.</p>",
        "chatDisplay": true,
        "actionType": "action",
        "cost": [
          {
            "scalable": false,
            "key": "hope",
            "value": 2,
            "itemId": null,
            "step": null,
            "consumeOnSuccess": false
          }
        ],
        "uses": {
          "value": null,
          "max": "",
          "recovery": null,
          "consumeOnSuccess": false
        },
        "effects": [],
        "target": {
          "type": "any",
          "amount": null
        },
        "name": "Spend Hope",
        "img": "icons/skills/melee/maneuver-sword-katana-yellow.webp",
        "range": "",
        "triggers": [
          {
            "trigger": "postDamageReduction",
            "triggeringActorType": "other",
            "command": "/* Check if sufficient hope */\nif (this.actor.system.resources.hope.value < 2) return;\n\n/* Check if hit point damage was dealt */\nconst hpDamage = damageUpdates.find(u => u.key === CONFIG.DH.GENERAL.healingTypes.hitPoints.id);\nif (hpDamage.value < 0) return;\n\n/* Dialog to give player choice */\nconst confirmed = await foundry.applications.api.DialogV2.confirm({\n    window: { title: this.item?.name ?? '' },\n    content: game.i18n.format('DAGGERHEART.CONFIG.Triggers.triggerTexts.ferocityContent', { bonus: hpDamage.value }),\n});\n\nif (!confirmed) return;\n\n/* Create the effect */\nthis.actor.createEmbeddedDocuments('ActiveEffect', [{\n  name: this.item.name,\n  img: 'icons/skills/melee/maneuver-sword-katana-yellow.webp',\n  description: game.i18n.format('DAGGERHEART.CONFIG.Triggers.triggerTexts.ferocityEffectDescription', { bonus: hpDamage.value }),\n  changes: [{ key: 'system.evasion', mode: 2, value: hpDamage.value }]\n}]);\n\n/* Update hope */\nreturn { updates: [{ \n  originActor: this.actor, \n  updates: [{\n    key: CONFIG.DH.GENERAL.healingTypes.hope.id,\n    value: -2,\n    total: 2\n  }] \n}]}"
          }
        ]
      }
    },
    "attribution": {
      "source": "Daggerheart SRD",
      "page": 122,
      "artist": ""
    }
  },
  "flags": {},
  "_id": "jSQsSP61CX4MhSN7",
  "sort": 3400000,
  "effects": [],
  "ownership": {
    "default": 0
  },
  "_key": "!items!jSQsSP61CX4MhSN7"
}
